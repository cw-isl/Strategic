<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>수출 및 전략물자</title>
  <meta name="description" content="수출 및 전략물자 - MVP" />
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <!-- 상단 탑바 -->
  <header class="topbar" role="navigation" aria-label="상단 내비게이션">
    <div class="topbar-inner">
      <div class="menu" data-menu>
        <button class="tab menu-toggle" type="button" data-menu-button aria-haspopup="true" aria-expanded="false" aria-controls="top-menu-panel">
          수출 및 전략물자
        </button>
        <div class="menu-panel" id="top-menu-panel" role="menu" hidden>
          <a class="menu-item" href="/dashboard" data-link role="menuitem">Dashboard</a>
          <a class="menu-item" href="/export" data-link role="menuitem">수출현황</a>
          <a class="menu-item" href="/expert-certificate" data-link role="menuitem">전략물자 전문판정서</a>
          <a class="menu-item" href="/regulation" data-link role="menuitem">수출관리규정</a>
          <a class="menu-item" href="/settings" data-link role="menuitem">설정</a>
        </div>
      </div>
    </div>
  </header>

  <!-- 본문 -->
  <main id="app" class="content" tabindex="-1" aria-live="polite">
    <!-- 라우팅된 화면 -->
  </main>

  <!-- 신규등록 모달 -->
  <dialog id="newExportDialog" aria-labelledby="newExportTitle">
    <form id="newExportForm" method="dialog" class="card">
      <header class="dialog-header">
        <h3 id="newExportTitle">수출 신규등록</h3>
        <p id="newExportStep" class="step-indicator" aria-live="polite">1 / 13</p>
        <p id="newExportSection" class="step-title">수출목적</p>
      </header>
      <div class="step-container">
        <section class="step" data-step="0" data-step-title="수출목적">
          <div class="grid">
            <label>수출유형
              <select name="exportType" required>
                <option value="">선택</option>
                <option value="정상판매">정상판매</option>
                <option value="A/S">A/S</option>
                <option value="BMT">BMT</option>
                <option value="장애교체">장애교체</option>
                <option value="TEST">TEST</option>
                <option value="Stock">Stock</option>
                <option value="임대">임대</option>
                <option value="유상임대">유상임대</option>
                <option value="기타 장애교체">기타 장애교체</option>
                <option value="기타 A/S">기타 A/S</option>
                <option value="제조사샘플">제조사샘플</option>
                <option value="개발용샘플">개발용샘플</option>
                <option value="기타">기타</option>
              </select>
            </label>
            <label data-export-type-detail hidden>기타 사유<input name="exportTypeDetail" placeholder="수출유형을 입력해주세요" /></label>
            <label>프로젝트 명<input name="projectName" required placeholder="예: 프로젝트명" /></label>
            <label>프로젝트 코드<input name="projectCode" required placeholder="예: PJT-2024-001" /></label>
          </div>
        </section>
        <section class="step" data-step="1" data-step-title="전략물자 여부 확인">
          <div class="grid">
            <fieldset class="checkbox-group" data-required-group>
              <legend>전략물자 여부</legend>
              <label><input type="checkbox" value="전략물자 수출" data-strategic-option /> 전략물자 수출</label>
              <label><input type="checkbox" value="일반수출" data-strategic-option /> 일반수출</label>
              <input type="hidden" name="strategicFlag" data-strategic-value />
            </fieldset>
            <div class="expert-search" data-expert-search data-span="full">
              <label>전략물자 전문판정 검색
                <div class="expert-search-fields">
                  <input type="search" placeholder="전문판정 키워드를 입력하세요" data-expert-input disabled aria-label="전략물자 전문판정 검색어" />
                  <button type="button" class="btn" data-expert-search-btn disabled>검색</button>
                </div>
              </label>
              <ul class="expert-search-results" data-expert-results hidden role="listbox" aria-label="전략물자 전문판정 검색 결과"></ul>
              <div class="expert-search-selection" data-expert-selection>
                <span>선택된 전문판정서</span>
                <strong data-expert-selected-name>없음</strong>
                <button type="button" class="btn link" data-expert-clear hidden>선택 해제</button>
              </div>
              <p class="expert-search-helper" data-expert-helper>
                전략물자 수출을 선택하면 전문판정서를 검색 후 선택해야 다음 단계로 진행할 수 있습니다.
              </p>
              <input type="hidden" name="strategicExpertCertificate" data-expert-selected-value />
            </div>
          </div>
        </section>
        <section class="step" data-step="2" data-step-title="담당자 정보">
          <div class="grid">
            <label>이름<input name="managerName" required placeholder="예: 홍길동" /></label>
            <label>부서<input name="managerDepartment" required placeholder="예: 영업팀" /></label>
            <label>연락처<input name="managerPhone" required placeholder="예: 010-0000-0000" /></label>
            <label>메일주소<input name="managerEmail" type="email" required placeholder="예: example@example.com" /></label>
          </div>
        </section>
        <section class="step" data-step="3" data-step-title="수입자 정보">
          <div class="grid">
            <label>회사명<input name="importCompanyName" required placeholder="예: ABC Corp." /></label>
            <label>주소<input name="importAddress" required placeholder="예: 서울특별시 ..." /></label>
            <label class="country-field">국가
              <div class="country-select" data-country-select>
                <button type="button" class="country-select-trigger" data-country-toggle aria-haspopup="listbox" aria-expanded="false">
                  <span class="country-select-flag" data-country-flag>🌐</span>
                  <span class="country-select-text">
                    <span data-country-label>국가를 선택하세요</span>
                    <span class="country-select-dial" data-country-selected-dial></span>
                  </span>
                </button>
                <div class="country-dropdown" data-country-menu hidden>
                  <div class="country-search">
                    <input type="search" placeholder="검색" data-country-search aria-label="국가 검색" autocomplete="off" />
                  </div>
                  <ul class="country-options" data-country-options role="listbox"></ul>
                </div>
                <input type="hidden" name="importCountry" data-country-value data-required-hidden data-required-message="국가를 선택해주세요." data-target-selector="[data-country-toggle]" />
              </div>
            </label>
            <label>국가번호<input name="importCountryCode" required readonly data-country-code placeholder="예: +82" /></label>
            <label>전화번호<input name="importPhone" required placeholder="예: 02-000-0000" /></label>
            <label>이름<input name="importContactName" required placeholder="예: John Doe" /></label>
            <label>연락처<input name="importContactPhone" required placeholder="예: +82-10-0000-0000" /></label>
            <label>이메일<input name="importEmail" type="email" required placeholder="예: contact@example.com" /></label>
            <label>기타<textarea name="importEtc" rows="3" placeholder="추가 정보를 입력해주세요"></textarea></label>
          </div>
        </section>
        <section class="step" data-step="4" data-step-title="Notify Party (착하통지처)">
          <div class="grid">
            <div data-span="full" class="checkbox-row">
              <label class="checkbox-inline"><input type="checkbox" name="notifySameAsImporter" data-notify-copy /> 수입자와 동일</label>
            </div>
            <label>회사명<input name="notifyCompanyName" required placeholder="예: ABC Corp." /></label>
            <label>주소<input name="notifyAddress" required placeholder="예: 서울특별시 ..." /></label>
            <label>국가
              <select name="notifyCountry" required data-country-select-simple data-code-target="notifyCountryCode">
                <option value="">선택</option>
              </select>
            </label>
            <label>국가번호<input name="notifyCountryCode" required readonly placeholder="예: +82" /></label>
            <label>전화번호<input name="notifyPhone" required placeholder="예: 02-000-0000" /></label>
            <label>이름<input name="notifyContactName" required placeholder="예: John Doe" /></label>
            <label>연락처<input name="notifyContactPhone" required placeholder="예: +82-10-0000-0000" /></label>
            <label>이메일<input name="notifyEmail" type="email" required placeholder="예: contact@example.com" /></label>
            <label>기타<textarea name="notifyEtc" rows="3" placeholder="추가 정보를 입력해주세요"></textarea></label>
          </div>
        </section>
        <section class="step" data-step="5" data-step-title="출발국가 및 최종 배송국가">
          <div class="grid">
            <label>출발국가
              <select name="originCountry" required data-country-select-simple>
                <option value="">선택</option>
              </select>
            </label>
            <label>최종 배송국가
              <select name="destinationCountry" required data-country-select-simple>
                <option value="">선택</option>
              </select>
            </label>
          </div>
        </section>
        <section class="step" data-step="6" data-step-title="발송일자">
          <div class="grid">
            <label data-span="full" class="field-compact">
              <span class="sr-only">발송일자</span>
              <input name="dispatchDate" type="date" required aria-label="발송일자" />
            </label>
          </div>
        </section>
        <section class="step" data-step="7" data-step-title="운송수단">
          <div class="grid">
            <label class="field-compact">
              <span class="sr-only">운송수단</span>
              <select name="transportMode" required aria-label="운송수단">
                <option value="">선택</option>
                <option value="항공">항공</option>
                <option value="해상">해상</option>
                <option value="육로">육로</option>
                <option value="기타">기타</option>
              </select>
            </label>
            <label data-transport-detail hidden>기타 사유<input name="transportOther" placeholder="운송수단을 입력해주세요" /></label>
          </div>
        </section>
        <section class="step" data-step="8" data-step-title="선적예정일">
          <div class="grid">
            <div class="inline-calendar-field" data-span="full">
              <div
                class="inline-calendar"
                data-inline-calendar
                data-calendar-input-name="loadingDate"
                aria-label="선적 예정일 달력"
              >
                <header class="inline-calendar-header">
                  <button type="button" class="inline-calendar-nav" data-calendar-prev aria-label="이전 달">‹</button>
                  <div class="inline-calendar-current" data-calendar-current>2024년 1월</div>
                  <button type="button" class="inline-calendar-nav" data-calendar-next aria-label="다음 달">›</button>
                </header>
                <div class="inline-calendar-weekdays" aria-hidden="true">
                  <span>일</span>
                  <span>월</span>
                  <span>화</span>
                  <span>수</span>
                  <span>목</span>
                  <span>금</span>
                  <span>토</span>
                </div>
                <div
                  class="inline-calendar-grid"
                  role="grid"
                  aria-label="선적 예정일을 선택하세요"
                  data-calendar-grid
                ></div>
                <p class="inline-calendar-selection" data-calendar-selection aria-live="polite">날짜를 선택하세요.</p>
                <input type="hidden" name="loadingDate" required data-calendar-input />
              </div>
            </div>
          </div>
        </section>
        <section class="step" data-step="9" data-step-title="배송조건 (Incoterms)">
          <div class="grid">
            <label class="field-compact">
              <span class="sr-only">배송조건 (Incoterms)</span>
              <select name="incoterms" required aria-label="배송조건 (Incoterms)">
                <option value="">선택</option>
                <option value="EXW">EXW</option>
                <option value="FCA">FCA</option>
                <option value="FAS">FAS</option>
                <option value="FOB">FOB</option>
                <option value="CFR">CFR</option>
                <option value="CIF">CIF</option>
                <option value="CPT">CPT</option>
                <option value="CIP">CIP</option>
                <option value="DAP">DAP</option>
                <option value="DPU">DPU</option>
                <option value="DDP">DDP</option>
                <option value="기타">기타</option>
              </select>
            </label>
            <label data-incoterms-detail hidden>기타 조건<input name="incotermsOther" placeholder="배송조건을 입력해주세요" /></label>
          </div>
        </section>
        <section class="step" data-step="10" data-step-title="결제조건">
          <div class="grid">
            <label data-span="full" class="field-compact">
              <span class="sr-only">결제조건</span>
              <input
                name="paymentTerms"
                required
                placeholder="예: 선지급 50%, 납품 후 50%"
                aria-label="결제조건"
              />
            </label>
          </div>
        </section>
        <section class="step" data-step="11" data-step-title="품목정보" data-items-step>
          <div class="item-table">
            <div class="table-controls">
              <button type="button" class="btn" data-item-add>행 추가</button>
              <button type="button" class="btn" data-item-remove>행 삭제</button>
            </div>
            <table class="item-table-grid">
              <thead>
                <tr>
                  <th scope="col">선택</th>
                  <th scope="col">NO</th>
                  <th scope="col">품명</th>
                  <th scope="col">품목구분</th>
                  <th scope="col">수량</th>
                  <th scope="col">통화</th>
                  <th scope="col">단가</th>
                  <th scope="col">총액</th>
                  <th scope="col">생산국</th>
                </tr>
              </thead>
              <tbody data-item-rows></tbody>
            </table>
            <div class="item-summary" data-item-summary>
              <div>총 수량 <strong data-item-qty-sum>0</strong></div>
              <div>총액 <strong data-item-total-sum>0</strong></div>
            </div>
          </div>
        </section>
        <section
          class="step"
          data-step="12"
          data-step-title="팩킹리스트"
          data-packing-step
          data-packing-visible="false"
          aria-hidden="true"
        >
          <div class="packing-layout">
            <div class="packing-layout-actions">
              <button type="button" class="btn primary" data-packing-open>팩킹 생성</button>
            </div>
            <div class="packing-layout-body">
              <section class="packing-panel">
                <header class="packing-panel-header">
                  <div class="packing-panel-heading">
                    <h4>팩킹정보</h4>
                    <p>생성된 Packing의 요약을 확인하세요.</p>
                  </div>
                </header>
                <p class="packing-empty" data-packing-empty>등록된 팩킹이 없습니다. 우측 상단의 버튼을 눌러 팩킹을 생성해주세요.</p>
                <ul class="packing-card-list" data-packing-list></ul>
              </section>
              <section class="packing-panel packing-create-panel" data-packing-panel hidden>
                <header class="packing-panel-header">
                  <div class="packing-panel-heading">
                    <h4>팩킹 생성</h4>
                    <p>Packing 정보를 입력해주세요.</p>
                  </div>
                  <button type="button" class="packing-panel-close" data-packing-close aria-label="팩킹 생성 닫기">×</button>
                </header>
                <div class="packing-form" data-packing-form>
                  <label>팩킹명
                    <input type="text" name="packingName" data-packing-field="name" placeholder="예: Packing 01" />
                  </label>
                  <div class="packing-dimension-grid">
                    <label>Length (cm)
                      <input type="number" name="packingLength" min="0" step="0.1" data-packing-field="length" placeholder="0" />
                    </label>
                    <label>Width (cm)
                      <input type="number" name="packingWidth" min="0" step="0.1" data-packing-field="width" placeholder="0" />
                    </label>
                    <label>Height (cm)
                      <input type="number" name="packingHeight" min="0" step="0.1" data-packing-field="height" placeholder="0" />
                    </label>
                    <label>CBM
                      <input type="number" name="packingCbm" min="0" step="0.001" data-packing-field="cbm" placeholder="0.000" />
                    </label>
                  </div>
                  <div class="packing-form-actions">
                    <button type="button" class="btn" data-packing-cancel>취소</button>
                    <button type="button" class="btn primary" data-packing-create>생성</button>
                  </div>
                </div>
              </section>
            </div>
          </div>
          <section class="packing-items">
            <header class="packing-panel-header">
              <h4>품목정보</h4>
              <p>팩킹에 포함할 품목을 선택해주세요.</p>
            </header>
            <div class="packing-items-table">
              <table>
                <thead>
                  <tr>
                    <th scope="col"><input type="checkbox" data-packing-select-all aria-label="전체 선택" /></th>
                    <th scope="col">NO</th>
                    <th scope="col">품명</th>
                    <th scope="col">품목구분</th>
                    <th scope="col">수량</th>
                  </tr>
                </thead>
                <tbody data-packing-items-body></tbody>
              </table>
            </div>
          </section>
        </section>
      </div>
      <menu class="dialog-actions">
        <button type="button" data-step-prev class="btn">이전 단계</button>
        <button type="button" data-step-next class="btn">다음 단계</button>
        <button type="button" data-step-save class="btn">임시저장</button>
        <button type="submit" data-step-complete class="btn primary" disabled>완료</button>
        <button type="button" data-dialog-cancel class="btn">취소</button>
      </menu>
    </form>
  </dialog>

  <footer class='footer'>
    <small>© <span id="year"></span></small>
  </footer>

  <script src="/main.js" defer></script>
</body>
</html>